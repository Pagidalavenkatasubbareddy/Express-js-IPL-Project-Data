<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Cricket Dashboard</title>
    <script src="https://code.highcharts.com/highcharts.js"></script>
  </head>
  <body>
    <div id="chart-container" style="width: 100%; height: 400px"></div>

    <script>
      document.addEventListener("DOMContentLoaded", function () {
        fetch("https://webpage-t1h7.onrender.com/4")
          .then((data) => {
            return data.json();
          })
          .then((data) => {
            const chartData = Object.entries(data).map(([name, value]) => ({
              name,
              y: value,
            }));

            Highcharts.chart("chart-container", {
              chart: {
                type: "bar",
              },
              title: {
                text: "Player Scores",
              },
              xAxis: {
                categories: chartData.map((item) => item.name),
                title: {
                  text: "Players",
                },
              },
              yAxis: {
                title: {
                  text: "Scores",
                },
              },
              series: [
                {
                  name: "Scores",
                  data: chartData.map((item) => item.y),
                },
              ],
            });
          });
      });
    </script>
  </body>
</html>
